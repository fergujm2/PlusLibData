<PlusConfiguration version="2.1">
  <DataCollection StartupDelaySec="1.0">
    <DeviceSet 
      Name="PlusServer: Fake da Vinci Test" 
      Description="Test broadcasting tool tracking data through TCP/IP connection and ISI API."
    />
    <Device
      Id="TrackerDevice"
      Type="FakeIntuitiveDaVinci" 
      ToolReferenceFrame="Base"
	  AcquisitionRate="60"
	  Password="">
      <DataSources>
        <DataSource Type="Tool" Id="PSM1Tip" PortName="PSM1Tip"/>
        <DataSource Type="Tool" Id="PSM2Tip" PortName="PSM2Tip"/>
      </DataSources>
      <OutputChannels>
        <OutputChannel Id="TrackerStream" >
          <DataSource  Id="PSM1Tip" />
          <DataSource  Id="PSM2Tip" />
        </OutputChannel>
      </OutputChannels>
    </Device>

    <Device
      Id="CaptureDevice"
      Type="VirtualCapture"
      BaseFilename="RecordingTest.igs.mha"
      EnableCapturingOnStart="FALSE" >
      <InputChannels>
        <InputChannel Id="TrackerStream" />
      </InputChannels>
    </Device>    
  </DataCollection>
  
    <PlusOpenIGTLinkServer
        MaxNumberOfIgtlMessagesToSend="10"
        MaxTimeSpentWithProcessingMs="50"
        ListeningPort="18944"
        SendValidTransformsOnly="true"
        OutputChannelId="TrackerStream" >
        <DefaultClientInfo>
			<MessageTypes>
				<Message Type="TRANSFORM" />
			</MessageTypes>
			<TransformNames>
				<Transform Name="PSM1TipToBase" />
				<Transform Name="PSM2TipToBase" />
			</TransformNames>
        </DefaultClientInfo>
    </PlusOpenIGTLinkServer>

</PlusConfiguration>
